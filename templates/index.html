
{% extends "base.html" %}
{% from "macros.html" import render_game_date %}
{% from "macros.html" import render_pagination %}

{% block head %}
{{ super() }}
<script type="text/javascript">
$(document).ready(function() {
    $('#games tr').click(function() {
        var href = $(this).find("a").attr("href");
        if(href) {
            window.location = href;
        }
    });
});
</script>
{% endblock %}

{% block content %}
  <div>
    <table id="games" class="table pointer-on-hover">
        <thead>
            <td><strong>date</strong></td>
            <td><strong>player1</strong></td>
            <td><strong>player2</strong></td>
            <td><strong>result</strong></td>
            <td><strong>uploaded by</strong></td>
        </thead>
      {% for game in games %}
        <tr>
            <td style="display:none;"> <a href='{{ url_for("view_game", game_id=game._id) }}' style="display:none;"></a> </td>
            <td>{{ render_game_date(game.date) }}</td>
            <td>{{ game.player1 }}</td>
            <td>{{ game.player2 }}</td>
            <td>{{ game.result }}</td>
            <td>{{ game.user.username }}</td>
        </tr>
      {% endfor %}
    </table>
    {{ render_pagination(pagination) }}
  </div>
{% endblock %}

